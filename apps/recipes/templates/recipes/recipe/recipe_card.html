<div class="group relative rounded-2xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 shadow-sm overflow-hidden hover:shadow-md transition">
    <div class="absolute top-3 right-3 z-10">
        {% include "favorites/favorite_block.html" with recipe=recipe %}
    </div>

  <!-- Card link -->
  <a href="{% url 'recipe_detail' recipe.pk %}" class="block">

    <!-- Image -->
    <div class="relative h-44 bg-gray-100 dark:bg-gray-900 overflow-hidden">
      {% if recipe.image_url %}
        <img
          src="{{ recipe.image_url }}"
          alt="{{ recipe.title }}"
          class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]"
          loading="lazy"
        >
      {% else %}
        <div class="h-full w-full flex items-center justify-center text-gray-400 dark:text-gray-500">
          No photo
        </div>
      {% endif %}

      <!-- subtle gradient for readability -->
      <div class="absolute inset-0 bg-gradient-to-t from-black/30 via-black/0 to-black/0"></div>
    </div>

    <!-- Content -->
    <div class="p-4">
      <div class="text-sm text-gray-500 dark:text-gray-400">
        {{ recipe.cooking_time|default:"—" }} min • {{ recipe.get_difficulty_display|default:"—" }}
      </div>

      <div class="mt-1 text-lg font-semibold text-gray-900 dark:text-white line-clamp-1">
        {{ recipe.title }}
      </div>

      {% if recipe.description %}
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-300 line-clamp-2">
          {{ recipe.description }}
        </p>
      {% endif %}
    </div>

  </a>
</div>
