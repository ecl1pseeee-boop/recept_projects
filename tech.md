# Техническое задание

## Веб-приложение умного подбора рецептов

---

## 1. Общая информация

**Название проекта:** Smart Recipes
**Тип проекта:** Веб-приложение
**Цель проекта:**
Создание веб-приложения для интеллектуального подбора рецептов на основе имеющихся у пользователя ингредиентов с использованием внешнего API Spoonacular и пользовательского контента.

---

## 2. Технологический стек

### Backend

* Python 3.x
* Django
* Django REST Framework (опционально, для API)

### Frontend

* HTML5
* Tailwind CSS
* HTMX
* Alpine.js

### База данных

* MySQL

### Инфраструктура

* Docker
* Docker Compose
* Nginx

### Внешние сервисы

* Spoonacular API

---

## 3. Функциональные требования

### 3.1 Каталог рецептов

**Описание:**
Раздел для просмотра и поиска рецептов.

**Функционал:**

* Просмотр списка рецептов
* Поиск рецептов по названию
* Фильтрация по категориям
* Сортировка:

  * по популярности
  * по времени приготовления
  * по сложности

---

### 3.2 Детальная страница рецепта

**Отображаемая информация:**

* Название рецепта
* Изображение
* Общее время приготовления
* Время подготовки
* Количество порций
* Уровень сложности
* Список ингредиентов с количеством и единицами измерения
* Пошаговая инструкция приготовления
* Категории и теги

**Функционал:**

* Добавление рецепта в избранное
* Удаление из избранного
* Кнопка «Поделиться» (копирование ссылки)

---

### 3.3 Избранные рецепты

**Функционал:**

* Добавление рецепта в избранное
* Просмотр списка избранных рецептов
* Удаление рецептов из избранного
---

### 3.4 Пользовательские рецепты

**Функционал:**

* Создание собственного рецепта
* Редактирование собственного рецепта
* Удаление собственного рецепта

**Форма создания рецепта включает:**

* Название
* Описание
* Изображение
* Ингредиенты (название, количество, единицы измерения)
* Инструкцию приготовления
* Время подготовки
* Время приготовления
* Количество порций
* Категорию
* Теги

---

### 3.5 Умный подбор рецептов по ингредиентам

**Описание:**
Функционал подбора рецептов на основе ингредиентов, имеющихся у пользователя.

**Функционал:**

* Ввод ингредиентов

**Типы подбора:**

* Полное совпадение ингредиентов
* Частичное совпадение:
  * отображение недостающих ингредиентов

---

### 3.6 Аутентификация и профиль пользователя

**Функционал:**

* Регистрация
* Авторизация
* Выход из системы
* Управление профилем пользователя

---

## 4. Интеграция с Spoonacular API

**Используемые endpoints:**

* Поиск рецептов
* Получение детальной информации о рецепте
* Поиск рецептов по ингредиентам
* Поиск ингредиентов (автодополнение)

**Особенности:**

* Кеширование запросов
* Обработка лимитов API
* Хранение внешних ID рецептов

---

## 5. Архитектура и база данных

### 5.1 Схема базы данных

**Users**

* id
* email
* username
* password
* created_at
* updated_at

**Recipes**

* id
* title
* description
* image
* source (spoonacular / user)
* external_id
* cooking_time
* prep_time
* servings
* difficulty
* instructions
* created_at
* updated_at
* user_id (nullable)

**Categories**

* id
* name
* slug

**Recipe_Categories**

* recipe_id
* category_id

**Ingredients**

* id
* name
* image

**Recipe_Ingredients**

* id
* recipe_id
* ingredient_id
* quantity
* unit
* description

**User_Favorites**

* id
* user_id
* recipe_id
* created_at

**User_Ingredients (Холодильник)**

* id
* user_id
* ingredient_id
* quantity
* unit
* added_at

---

## 6. Инфраструктура

### 6.1 Docker

**Контейнеры:**

* Django Application
* MySQL
* Nginx

**docker-compose.yml включает:**

* Volumes
* Networking
* Environment variables
* Port mapping

---

### 6.2 Nginx

* Раздача статических файлов
* Раздача медиа файлов
* Reverse Proxy к Django
* Gzip сжатие
* Security Headers
* Подготовка к SSL/TLS

---

## 7. Конфигурация окружения

### Переменные окружения:

* `SECRET_KEY`
* `DEBUG`
* `ALLOWED_HOSTS`
* `DATABASE_*`
* `SPOONACULAR_API_KEY`

**Окружения:**

* Development
* Production

---

## 8. Структура проекта

```text
django/
├── DjangoUlearn/
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
├── apps/
├── templates/
├── static/
│   ├── css/
│   ├── js/
│   └── images/
├── media/
└── manage.py
```